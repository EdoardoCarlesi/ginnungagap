Copyright (C) 2010, 2011, 2012, Steffen Knollmann

This file contains an overview of the major enhancement, bug fixes, or
other things for each version of ginnungagap since version 0.5.0.  If
relevant, the entries contain the short hash of the according commits to
the repository, smaller changes will not be listed individually but
paraphrased.


Version 0.6.0-beta
------------------

This is the beta release of version 0.6.0 bringing major changes to the
grid writing and reading infrastructure (see below for more details).
Most notably, the HDF5 support has been finished and shows excellent
performance on curie (~5GB/s writing, ~10GB/s reading).  On other fronts
the code documentation has been updated, now completely documenting the
code configuration files (mainly relevant config.h.in).  Also,
ginnungagap is now available from: https://code.google.com/p/ginnungagap/

Changes from 0.5.3-alpha:
 150 files changed, 7521 insertions(+), 2207 deletions(-)

(7ed0f30) [FIX] Adds missing ifdef guard around HDF5 things.
    The factory methods for the HDF5 reader should only be compiled if HDF5 
    is available.

(a012fba) Minor tweaks in the WN writing/reading.
    This changes the way the WN reader/writer are setup in ginnungagap, 
    instead of having them constructed from the [WhiteNoise] section, they 
    are now constructed from bespoke sections names there.

    Also, this adds two example ini files for use with ginnungagap.

(b5f9b8a) Removes the (dis-functional) SILO grid reader.
    The SILO grid reader is now removed from the code basis, it never
    worked anyways and there is no point in carrying aroung bit-rotting
    code.

(d51db07) Updates the grid reader infrastructure.
    The grid reader now uses a similar setup as the grid writer, common IO 
    functionality between reading and writing is outsourced to a separate 
    file.  This changes also changes the INI format for the grid reader, 
    most notably, the type is now specified as 'type = ..' instead of
    'readerType = ..'.  Additionally, all reader will now read a filename 
    split up into path, prefix, qualifier, and suffix; this replaces the
    old
    'graficFileName = ..' et al.

    Furthermore, the grid reading is now included in the unit testing of
    the grid library (at least for BOV and HDF5) and the code documentation
    has been updated.  The sample ini file for 'realSpaceConstraints' has
    been adjusted to work with the new reading routines.

    The main code (and tools) only had to be changed trivially to account 
    for the change.

(f9699a5) Overhauling the grid writer.
    The writer now uses a streamlined code structure under the hood and 
    allows now for more flexibility in writing.  The construction of
    writers from ini files has been factored out into a factory module and
    during that, the structure of the ini files changed slightly.

    The grafic writer now will not cycle through the _delta, _velx and so
    on names anymore but relies on the user to set the proper file name. 
    The HDF5 writer properly deals with multiple calls.  The Silo writer
    has been adjusted to reflect the changes in the code structure.

    As a main feature, the grid writer now will never overwrite a file 
    unless explicitly requested by the user.

    On a side, the whole code basis has been adjusted to now work with all 
    three grid writers for generating velocity fields et al.  This required 
    including explicit renaming calls in ginnungagap to keep the names in 
    the files (when the file type supports that: HDF5, SILO) consistent
    with what is actually in the file.  Also, ginnungagap will now write
    separate files for the overdensity and for each of the velocity
    components (possibly spilt over many subfiles, as in the case of
    Silo in MPI mode).

(8205b8f) Documenation updates.
    Now config.h and version.h are fully documented.  Actually, the 
    documentation is in the .in files, as they are used to auto-generate
    the actual files.

(9a18057) Adds a filename module to the utility library.
    Fri Jan 13 03:01:44 2012 +0000

(bb3df6d) Sets the path for HDF5 on curie.
    Wed Jan 11 02:52:55 2012 +0100

Version 0.5.3-alpha
-------------------

This is the alpha release of ginnungagap-0.5.3 focussing mostly on HDF5
support (working for WN data in read/write and for all other data in
write-only).  Additionally, the realSpaceConstraints tool is now MPI
parallel and some additions have been made for 2LPT corrections (not
fully supported yet).

Changes from 0.5.2-alpha:
 44 files changed, 1486 insertions(+), 281 deletions(-)

* (91eb7a3) Adds a gnuplot script for plotting grafic files.
    This is meant as an example that quickly references the required syntax 
    for GNUPlot (>= 4.5 required).

* (053c8f9) Major HDF5 update: supporting read/write.
    This merges the HDF5 writing and reading for ginnungagap.  Note that 
    while writing basically supports compression and checksumming, the 
    reader does not.  Also, the reader currently only works for white noise 
    fields generated by realSpaceConstraints.  This limitation is due to
    the ambiguity of how to map file datasets to memory datasets.

* (2d00902) Enables MPI capabilites for realSpaceConstraints.
    This essentially parallelizes the generation of white noise fields over 
    the z-direction of the lowest resolution grid.

* (144cd08) Adjusts validation of input parameters.
    The largest sigma that is expected to occur in the white noise field is 
    now calculated and used to estimate whether the starting redshift is 
    hight enough.  The starting redshift is high enough, if the largest 
    overdensity is less than one.  The largest overdensity is given by the 
    density variance in the box (sigmaBox) times the largest expected value 
    in the white noise field.  The code will now terminate, if the largest
    (expected) overdensity is larger than 1.

* (82b8279) Generating a histogram of the white noise.
    If histograms are enabled, this will now also produce a histogram for 
    the white noise data.  This requires two additional new fields in the 
    ini file to set the extreme values for the white noise and the name of 
    the file the white noise histogram is written to.  This is analogous to 
    the current handling of histograms.

* (0fb043c) Extra information in the printing of histograms.

* (c741eeb) Merges changes to allow gas ICs to be generated.
    This includes changes to grafic2gadget to allow the generation of gas 
    particles.  The IDs of the gas particles will be arrange in such a way 
    that they range after the DM IDs, this should keep the IDs for DM 
    particles identical between (full-box) runs with and without gas.  Gas 
    particles will have the same velocity as DM particles but are shifted
    by a constant fraction of a cell.

* (dca5951) Prevents calculation of P(k) for small grids.
    If the grid is too small, the power spectrum calculation may segfault
    as it uses some magic to estimate the slope at low and high
    frequencies. That requires a decent amount of samples which is not
    fulfilled for small grids.

* (ea0d78a) Now also writing z to Gadget headers.
    Only a was set explicitly in the grafic2gadget conversion utility.

* (1938740) 2LPT related changes and additions.
    This adds the calculation of the second derivatives to the IC part, the 
    required cosmology routines to calculate the second order growth terms 
    and changes the initGrid routine to only accept the values it needs to 
    work and nothing more.

* (5a76b03) Ensure correct type for large indices.
    Wed Nov 9 14:13:01 2011 +0100
    This changes the loop counters of the dimensions to 64bit integers to 
    ensure that the calculation of indices also in done with 64bit
    integers. The result always was a 64bit integer, but as a sum/product
    of 32bit integers which might silently overflow.

* (3dace56) Prepares for 2LPT corrections.
    Introduces a new key in the main section of the code to toggle between 
    the usage of second order corrections.  The default is to not calculate 
    the second order corrections.

Version 0.5.2-alpha
-------------------

This is the alpha release of ginnungagap-0.5.2.  This brings writing
support for HDF5 and improves the build system.  The biggest chance is
the way how MPI is handled in the build system.
Changes from 0.5.1-alpha:
 46 files changed, 2039 insertions(+), 406 deletions(-)

* (4d4de93) Adds curie to the systems.

* (17d9d4e) Adds erebos to the known systems.
    This sets the SPRNG and FFT details for erebos to use the libraries 
    installed in /z/knolli/opt/.  Setting the LD_LIBRARY_PATH is still the 
    responsibility of the user.  The system settings differ depending on
    the choice of --toolchain (intel and gcc are dealt with).

* (15c25b5) Fixes segfault related to histograms.
    When the calculation of histograms is switched off in the ini file (or 
    rather not switched on), then they really shouldn't be done.

* (40af9c2) Fixes filtering/chunking for the HDF5 writer.
    This now allows the writer to write to chunked data sets and apply 
    various filters to the data set.  Filters are, however, only available 
    in the serial version of the library, hence all filters are switched
    off the hard way, when the code is compiled with MPI.

* (a6261ee) HDF5 writer can now write grids.
    This implements the writing of grids (and, untested, patches). 
    Theoretically, it also supports compression and checksumming, albeit 
    untested.

* (1a84d88) Allows distributed grids to always get the rank.
    Retrieving the local rank of the calling process within the grid 
    distribution was a feature of the MPI-version of the distribution 
    module.  This is now always available and will return the rank 0 if the 
    distribution is not in MPI mode.  Test functions have been adjusted 
    accordingly.

* (94d6069) Fixes issue with MPI tests and adds OpenMP to MPI.
    Will set a Makefile variable for mpiexec which will include the path as 
    given by WITH_MPI_BIN_DIR.  Note that this directory must be either 
    given by the user, or it will be constructed by 'dirname' from
    'which mpicc'.

    Also, the build system now re-enables MPI+OpenMP by adding the required 
    OpenMP flags not only to CC but also to MPICC.

* (d951872) Fixes issues with the pdf documentation.
    When generating the latex documentation it seems that doxygen produces 
    broken TeX code if name-block contain any text.  This is circumvented 
    now by either moving the extra text to the file description, or
    deleting it.

* (ef7524c) Changes how MPI is handled in the build system.
    This will now explicitly set and use MPICC.  Makefiles that deal with 
    code that has to be compiled with MPI now will set CC to MPICC.  That 
    allows to compile code that has no dependency on MPI without any 
    reference to MPI.  Implementation of this change required adjusting
    most of the Makefiles and additionally a few irrelevant MPI
    dependencies have been removed from a few test functions.

    The way MPI is handled in by the configure is now:  --with-mpi will
    take an argument that is either no to not use MPI at all, or yes, which
    will use MPI and assume the MPI compiler to be 'mpicc', or any other
    word that will then be taken as the value for MPICC.  This should now
    be the executable without any path.  If the MPICC is in a non-standard 
    directory, then --with-mpi-bin-dir can be used to point to the proper 
    directory in which MPICC can be found.

    The configure script will now report which MPICC is being used and 
    include the full path in the output.  The path is either taken from the 
    user via --with-mpi-bin-dir or deduced via 'which MPICC' (that requires 
    MPICC to be in the PATH).

    All these changes are now used in the example configure.systems.own (in 
    doc/devel/) to allow for a compilation without sourcing any module. 
    Note that the build system does not try to resolve runtime dependency, 
    i.e. to run the code the user needs to ensure that all shared libraries 
    are actually found by the linker.

* (2bfbe5d) Adds a configure.systems.own for development.
    This is only for internal use, though users might find it helpful to 
    have a look at the file.

* (d1ebdd0) Documentation update for gridPatch.
    This will now completely document the gridPatch module.  Additionally,
    a few missing const qualifiers have been added to some functions.

* (d66541c) Adds a gridPatch function to retrieve data by var.
    This now allows to retrieve the data handle of a variable attached to a 
    patch by searching for the variable itself.  Previously, the only way
    to get the data handle was by passing the index of the data.

* (9823274) Fixes problems with HDF5 libs.
    The HDF5 libraries where not properly propagated through the build 
    chain.

* (cd2d61e) Changes the way configure deals with HDF5.
    Now that HDF5 is itself a supported output format of ginnungagap, the 
    configure script has been adapted so that the HDF5 backend of Silo is 
    not chosen automatically when --with-hdf5 is specified.  To use the
    HDF5 backend, --with-silo=hdf5 must be used now.


Version 0.5.1-alpha
-------------------

This is the alpha release of ginnungagap-0.5.1.  The release focuses
mainly on the build system and documentation updates.  The main addition
to the code base is the framework for the HDF5 reader/writer for the
grid library.
Changes from 0.5.0-alpha:
 58 files changed, 1932 insertions(+), 404 deletions(-)

* (2624744) Adds option for predefined systems to configure.
    This now allows to use --system=SYSTEM with the configure script to 
    configure the code according to a predefined set for a given machine. 
    No actual predefined system is included yet, only the system 'full' is 
    available, which will switch on all features the code has.

    The users may define their own systems by means of writing their own 
    definition in an extra file (configure.systems.own) that will be 
    evaluated if it exists.  An example of this file is included in 
    doc/examples/.

* (b4192e4) Adds a file to collect useful git commands.
    This is mainly meant to have a set of git commands related to querying
    the history of the repository for writing change logs.  Before they are
    forgotten yet again, it seems better to have a cheat sheet.

* (fbfbeaa) Adds an install target to the Makefile.
    This now allows to 'install' all generated binaries into a (possibly 
    user-defined) directory.  The default is to move the binaries from
    their respective source directory into bin/ in the top directory.

* (816658f) Updates doxygen configuration.
    Now also extracting static members (so that the call graph images work 
    smoothly) and adding a tag line to the project documentation.

* (b8fad9d) Adds stubs for the HDF5 libgrid-IO.
    This only provides a compilable set of files which at the moment do not 
    actually do anything.  They cause a bunch of compiler warnings about 
    unused variables.

* Numerous updates to the code documentation.


Version 0.5.0-alpha
-------------------

This is the alpha release of ginnungagap-0.5.0.  This is essentially
the version that was presented at the ginnungagap workshop in Madrid
on the 21th of September 2011.  This version includes two small fixes
to the realSpaceConstraints program that fix is to also work when
compiled with MPI.
